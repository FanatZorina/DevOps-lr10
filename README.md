# ФИТ-2024 НМ. Кулаков Андрей. DevOps. ЛР10
## Чистим старые ресурсы из кластера
<img width="974" height="209" alt="image" src="https://github.com/user-attachments/assets/27aaf980-e4b7-4b23-947c-72896f8bf0f9" />

## Устанавливаем Helm и Kompose. Пробуем создать Чарт, а также конвертируем манифесты в k8s ресурсы и helm chart
<img width="974" height="177" alt="image" src="https://github.com/user-attachments/assets/75b0fc74-fb47-4c45-89ff-3c6265002332" />
<img width="974" height="181" alt="image" src="https://github.com/user-attachments/assets/d602b3b7-4c8f-4ec3-97ca-5f452c6e134b" />
<img width="974" height="288" alt="image" src="https://github.com/user-attachments/assets/e02c3dd7-c311-4110-a2f5-f8de2acdf5ea" />
<img width="942" height="303" alt="image" src="https://github.com/user-attachments/assets/fffba652-fb24-4ab6-9723-8c78252a6dc3" />
<img width="974" height="682" alt="image" src="https://github.com/user-attachments/assets/b3475e4b-9a40-40bf-a59a-9e9c095ba149" />
<img width="974" height="81" alt="image" src="https://github.com/user-attachments/assets/20d5b575-5548-4c5a-b2b1-0f455f3d7819" />


## Дорабатываем некоторые файлы, упаковываем чарт и устанавливаем релиз, также запускаем кластер и туннель. И проверяем работу.
<img width="616" height="356" alt="image" src="https://github.com/user-attachments/assets/7308bdfd-f7c4-4b49-98b2-2200cb1939bd" />
<img width="974" height="568" alt="image" src="https://github.com/user-attachments/assets/de487b67-82b8-4e59-9958-9caf941fd93e" />
<img width="974" height="1001" alt="image" src="https://github.com/user-attachments/assets/8ed48ab1-1e63-48c8-a9b6-306537e55c31" />

## Добавляем values к чарту, апгрейлим релиз переопределяя порт
<img width="974" height="326" alt="image" src="https://github.com/user-attachments/assets/22ebe6c6-da56-4710-8ce8-66f6c562d3b6" />
<img width="777" height="598" alt="image" src="https://github.com/user-attachments/assets/037e5bca-7f49-419f-b06a-73e143cad415" />

## Ставим Kustomize. Немного меняем структуру, создаём папки под разные версии, создаём в них свои кастомизации, создаём патчи в них. Применяем манифесты и проверяем
<img width="867" height="517" alt="image" src="https://github.com/user-attachments/assets/b84069ae-a6c4-4692-84e3-ab461f0c673b" />
<img width="742" height="199" alt="image" src="https://github.com/user-attachments/assets/994ef897-a87f-4b7b-be83-61e8095e54f8" />
<img width="974" height="375" alt="image" src="https://github.com/user-attachments/assets/eb3b37bd-7008-4c91-8811-bbb8d7b70670" />

